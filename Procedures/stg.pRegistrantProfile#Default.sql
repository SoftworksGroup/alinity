SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO
CREATE PROCEDURE [stg].[pRegistrantProfile#Default]
	 @zContext                        xml               = null                -- default values provided from client-tier (if any)
	,@SetFKDefaults                   bit               = 0                   -- when 1, mandatory FK's are returned as -1 instead of NULL
as
/*********************************************************************************************************************************
Procedure : stg.pRegistrantProfile#Default
Notice    : Copyright Â© 2019 Softworks Group Inc.
Summary   : provides a blank row with default values for presentation in the UI for "new" stg.RegistrantProfile records
-----------------------------------------------------------------------------------------------------------------------------------
Author    : Generated by DB Studio: pSprocGen | Designer: Tim Edlund
Version   : April 2019
-----------------------------------------------------------------------------------------------------------------------------------
Comments
--------
This procedure is used in maintenance of the stg.RegistrantProfile table. When a new record is to be added from the UI, this procedure
is called to return a blank record with default values. If the client-tier is providing the context for the insert, such as a parent
key value for the new record, it must be passed in the @zContext XML parameter. Multiple values may be passed. The standard format
is: <Parameters MyParameter="1000001"/>.

The @SetFKDefaults parameter can be set to 1 to cause the procedure to return mandatory FK values as -1 rather than NULL. This avoids
the need to create complex types for the procedure on architectures which are not using RIA services.

Note that default values for text, ntext and binary type columns is not supported.  These data types are not permitted as local
variables in the current version of SQL Server and should be replaced by varchar(max) and nvarchar(max) where possible.

Some default values are built-in to the shell of the sproc.  The base table column defaults set in the variable declarations below
were obtained from database default constraints which existed at the time the procedure was generated. The declarations include all
columns of the vRegistrantProfile entity view, however, only some values (as noted above) are eligible for default setting.  The other
parameters are included for setting context for the table-specific or client-specific logic of the procedure (if any). Default values
returning a question mark "?", system date, or 0 are provided for non-base table columns which are mandatory.  This is done to avoid
compilation errors from the Entity Framework, however, the values will not be applied since they are not in the base table row.

Two levels of customization of the procedure shell are supported. Table-specific logic can be added through the tagged section and a
call to an extended procedure supports client-specific customization. Logic implemented within the code tags is part of the base
product and applies to all client configurations. Client-specific customizations must be implemented in the ext.pRegistrantProfile
procedure. The extended procedure is only called where it exists in database. The parameter "@Mode" is set to "default.pre" to
advise ext.pRegistrantProfile of the context of the call. All other parameters are also passed, however, only those parameters eligible
for default setting are passed for "output". All parameters corresponding to entity view columns are returned through a SELECT statement.

In order to simplify working with the XML parameter values, logic in the procedure parses the XML and assigns values to variables where
the variable name matches the column name in the XML (assumes single row).  The variables are then available to the table-specific and
client-specific logic.  The @zContext parameter is also passed, unmodified, to the extended procedure to support situations where values
are passed that are not mapped to column names.


-------------------------------------------------------------------------------------------------------------------------------- */

begin
	set nocount on

	declare
		 @errorNo                                      int = 0								-- 0 no error, <50000 SQL error, else business rule
		,@tranCount                                    int = @@trancount			-- determines whether a wrapping transaction exists
		,@sprocName                                    nvarchar(128) = object_name(@@procid)						-- name of currently executing procedure
		,@xState                                       int										-- error state detected in catch block
		,@ON                              bit = cast(1 as bit)								-- constant for bit comparisons
		,@OFF                             bit = cast(0 as bit)								-- constant for bit comparisons
		,@registrantProfileSID            int               = -1							-- specific default required by EF - do not override
		,@importFileSID                   int               = null						-- no default provided from DB constraint - OK to override
		,@processingStatusSID             int               = null						-- no default provided from DB constraint - OK to override
		,@lastName                        nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@firstName                       nvarchar(30)      = null						-- no default provided from DB constraint - OK to override
		,@commonName                      nvarchar(30)      = null						-- no default provided from DB constraint - OK to override
		,@middleNames                     nvarchar(30)      = null						-- no default provided from DB constraint - OK to override
		,@emailAddress                    varchar(150)      = null						-- no default provided from DB constraint - OK to override
		,@homePhone                       varchar(25)       = null						-- no default provided from DB constraint - OK to override
		,@mobilePhone                     varchar(25)       = null						-- no default provided from DB constraint - OK to override
		,@isTextMessagingEnabled          bit               = (0)							-- default provided from DB constraint - OK to override
		,@genderLabel                     nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@namePrefixLabel                 nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@birthDate                       date              = null						-- no default provided from DB constraint - OK to override
		,@deathDate                       date              = null						-- no default provided from DB constraint - OK to override
		,@userName                        nvarchar(75)      = null						-- no default provided from DB constraint - OK to override
		,@subDomain                       varchar(63)       = null						-- no default provided from DB constraint - OK to override
		,@password                        nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@streetAddress1                  nvarchar(75)      = null						-- no default provided from DB constraint - OK to override
		,@streetAddress2                  nvarchar(75)      = null						-- no default provided from DB constraint - OK to override
		,@streetAddress3                  nvarchar(75)      = null						-- no default provided from DB constraint - OK to override
		,@cityName                        nvarchar(30)      = null						-- no default provided from DB constraint - OK to override
		,@stateProvinceName               nvarchar(30)      = null						-- no default provided from DB constraint - OK to override
		,@postalCode                      varchar(10)       = null						-- no default provided from DB constraint - OK to override
		,@countryName                     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@regionLabel                     nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@registrantNo                    varchar(50)       = null						-- no default provided from DB constraint - OK to override
		,@personGroupLabel1               nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupTitle1               nvarchar(75)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupIsAdministrator1     bit               = (0)							-- default provided from DB constraint - OK to override
		,@personGroupEffectiveDate1       date              = null						-- no default provided from DB constraint - OK to override
		,@personGroupExpiryDate1          date              = null						-- no default provided from DB constraint - OK to override
		,@personGroupLabel2               nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupTitle2               nvarchar(75)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupIsAdministrator2     bit               = (0)							-- default provided from DB constraint - OK to override
		,@personGroupEffectiveDate2       date              = null						-- no default provided from DB constraint - OK to override
		,@personGroupExpiryDate2          date              = null						-- no default provided from DB constraint - OK to override
		,@personGroupLabel3               nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupTitle3               nvarchar(75)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupIsAdministrator3     bit               = (0)							-- default provided from DB constraint - OK to override
		,@personGroupEffectiveDate3       date              = null						-- no default provided from DB constraint - OK to override
		,@personGroupExpiryDate3          date              = null						-- no default provided from DB constraint - OK to override
		,@personGroupLabel4               nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupTitle4               nvarchar(75)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupIsAdministrator4     bit               = (0)							-- default provided from DB constraint - OK to override
		,@personGroupEffectiveDate4       date              = null						-- no default provided from DB constraint - OK to override
		,@personGroupExpiryDate4          date              = null						-- no default provided from DB constraint - OK to override
		,@personGroupLabel5               nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupTitle5               nvarchar(75)      = null						-- no default provided from DB constraint - OK to override
		,@personGroupIsAdministrator5     bit               = (0)							-- default provided from DB constraint - OK to override
		,@personGroupEffectiveDate5       date              = null						-- no default provided from DB constraint - OK to override
		,@personGroupExpiryDate5          date              = null						-- no default provided from DB constraint - OK to override
		,@practiceRegisterLabel           nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@practiceRegisterSectionLabel    nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@registrationEffectiveDate       date              = null						-- no default provided from DB constraint - OK to override
		,@qualifyingCredentialLabel       nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@qualifyingCredentialOrgLabel    nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@qualifyingProgramName           nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@qualifyingProgramStartDate      date              = null						-- no default provided from DB constraint - OK to override
		,@qualifyingProgramCompletionDate date              = null						-- no default provided from DB constraint - OK to override
		,@qualifyingFieldOfStudyName      nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialLabel1                nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialOrgLabel1             nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialProgramName1          nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@credentialFieldOfStudyName1     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialEffectiveDate1        date              = null						-- no default provided from DB constraint - OK to override
		,@credentialExpiryDate1           date              = null						-- no default provided from DB constraint - OK to override
		,@credentialLabel2                nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialOrgLabel2             nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialProgramName2          nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@credentialFieldOfStudyName2     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialEffectiveDate2        date              = null						-- no default provided from DB constraint - OK to override
		,@credentialExpiryDate2           date              = null						-- no default provided from DB constraint - OK to override
		,@credentialLabel3                nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialOrgLabel3             nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialProgramName3          nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@credentialFieldOfStudyName3     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialEffectiveDate3        date              = null						-- no default provided from DB constraint - OK to override
		,@credentialExpiryDate3           date              = null						-- no default provided from DB constraint - OK to override
		,@credentialLabel4                nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialOrgLabel4             nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialProgramName4          nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@credentialFieldOfStudyName4     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialEffectiveDate4        date              = null						-- no default provided from DB constraint - OK to override
		,@credentialExpiryDate4           date              = null						-- no default provided from DB constraint - OK to override
		,@credentialLabel5                nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialOrgLabel5             nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialProgramName5          nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@credentialFieldOfStudyName5     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialEffectiveDate5        date              = null						-- no default provided from DB constraint - OK to override
		,@credentialExpiryDate5           date              = null						-- no default provided from DB constraint - OK to override
		,@credentialLabel6                nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialOrgLabel6             nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialProgramName6          nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@credentialFieldOfStudyName6     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialEffectiveDate6        date              = null						-- no default provided from DB constraint - OK to override
		,@credentialExpiryDate6           date              = null						-- no default provided from DB constraint - OK to override
		,@credentialLabel7                nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialOrgLabel7             nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialProgramName7          nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@credentialFieldOfStudyName7     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialEffectiveDate7        date              = null						-- no default provided from DB constraint - OK to override
		,@credentialExpiryDate7           date              = null						-- no default provided from DB constraint - OK to override
		,@credentialLabel8                nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialOrgLabel8             nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialProgramName8          nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@credentialFieldOfStudyName8     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialEffectiveDate8        date              = null						-- no default provided from DB constraint - OK to override
		,@credentialExpiryDate8           date              = null						-- no default provided from DB constraint - OK to override
		,@credentialLabel9                nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialOrgLabel9             nvarchar(35)      = null						-- no default provided from DB constraint - OK to override
		,@credentialProgramName9          nvarchar(65)      = null						-- no default provided from DB constraint - OK to override
		,@credentialFieldOfStudyName9     nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@credentialEffectiveDate9        date              = null						-- no default provided from DB constraint - OK to override
		,@credentialExpiryDate9           date              = null						-- no default provided from DB constraint - OK to override
		,@personSID                       int               = null						-- no default provided from DB constraint - OK to override
		,@personEmailAddressSID           int               = null						-- no default provided from DB constraint - OK to override
		,@applicationUserSID              int               = null						-- no default provided from DB constraint - OK to override
		,@personMailingAddressSID         int               = null						-- no default provided from DB constraint - OK to override
		,@regionSID                       int               = null						-- no default provided from DB constraint - OK to override
		,@namePrefixSID                   int               = null						-- no default provided from DB constraint - OK to override
		,@genderSID                       int               = null						-- no default provided from DB constraint - OK to override
		,@citySID                         int               = null						-- no default provided from DB constraint - OK to override
		,@stateProvinceSID                int               = null						-- no default provided from DB constraint - OK to override
		,@countrySID                      int               = null						-- no default provided from DB constraint - OK to override
		,@registrantSID                   int               = null						-- no default provided from DB constraint - OK to override
		,@processingComments              nvarchar(max)     = null						-- no default provided from DB constraint - OK to override
		,@userDefinedColumns              xml               = null						-- no default provided from DB constraint - OK to override
		,@registrantProfileXID            varchar(150)      = null						-- no default provided from DB constraint - OK to override
		,@legacyKey                       nvarchar(50)      = null						-- no default provided from DB constraint - OK to override
		,@isDeleted                       bit               = (0)							-- default provided from DB constraint - OK to override
		,@createUser                      nvarchar(75)      = suser_sname()		-- default value ignored (value set by UI)
		,@createTime                      datetimeoffset(7) = sysdatetimeoffset()												-- default value ignored (set to system time)
		,@updateUser                      nvarchar(75)      = suser_sname()		-- default value ignored (value set by UI)
		,@updateTime                      datetimeoffset(7) = sysdatetimeoffset()												-- default value ignored (set to system time)
		,@rowGUID                         uniqueidentifier  = newid()					-- default value ignored (value set by system)
		,@rowStamp                        timestamp         = null						-- default value ignored (value set by system)
		,@fileFormatSID                   int               = 0								-- not a base table column (default ignored)
		,@applicationEntitySID            int               = 0								-- not a base table column (default ignored)
		,@fileName                        nvarchar(100)     = N'?'						-- not a base table column (default ignored)
		,@loadStartTime                   datetimeoffset(7)										-- not a base table column (default ignored)
		,@loadEndTime                     datetimeoffset(7)										-- not a base table column (default ignored)
		,@isFailed                        bit               = 0								-- not a base table column (default ignored)
		,@messageText                     nvarchar(4000)											-- not a base table column (default ignored)
		,@importFileRowGUID               uniqueidentifier  = newid()					-- not a base table column (default ignored)
		,@processingStatusSCD             varchar(10)       = '?'							-- not a base table column (default ignored)
		,@processingStatusLabel           nvarchar(35)      = N'?'						-- not a base table column (default ignored)
		,@isClosedStatus                  bit               = 0								-- not a base table column (default ignored)
		,@processingStatusIsActive        bit               = 0								-- not a base table column (default ignored)
		,@processingStatusIsDefault       bit               = 0								-- not a base table column (default ignored)
		,@processingStatusRowGUID         uniqueidentifier  = newid()					-- not a base table column (default ignored)
		,@personEmailAddressPersonSID     int																	-- not a base table column (default ignored)
		,@personEmailAddressEmailAddress  varchar(150)												-- not a base table column (default ignored)
		,@isPrimary                       bit																	-- not a base table column (default ignored)
		,@personEmailAddressIsActive      bit																	-- not a base table column (default ignored)
		,@personEmailAddressRowGUID       uniqueidentifier										-- not a base table column (default ignored)
		,@isDeleteEnabled                 bit																	-- not a base table column (default ignored)
		,@isReselected                    tinyint           = 1								-- specific default required by EF - do not override
		,@isNullApplied                   bit               = 1								-- specific default required by EF - do not override
		,@registrantLabel                 nvarchar(75)												-- not a base table column (default ignored)

	begin try

		-- use a transaction so that any additional updates implemented through the extended
		-- procedure or through table-specific logic succeed or fail as a logical unit

		if @tranCount = 0																											-- no outer transaction
		begin
			begin transaction
		end
		else																																	-- outer transaction so create save point
		begin
			save transaction @sprocName
		end
		-- set mandatory FK values to -1 where requested
		
		if @SetFKDefaults = @ON
		begin
			set @importFileSID = -1
			set @processingStatusSID = -1
		end

		-- assign literal defaults passed through @zContext where
		-- provided otherwise leave database default in place
		
		select
			 @importFileSID                    = isnull(context.node.value('@ImportFileSID'                  ,'int'          ),@importFileSID)
			,@processingStatusSID              = isnull(context.node.value('@ProcessingStatusSID'            ,'int'          ),@processingStatusSID)
			,@lastName                         = isnull(context.node.value('@LastName'                       ,'nvarchar(35)' ),@lastName)
			,@firstName                        = isnull(context.node.value('@FirstName'                      ,'nvarchar(30)' ),@firstName)
			,@commonName                       = isnull(context.node.value('@CommonName'                     ,'nvarchar(30)' ),@commonName)
			,@middleNames                      = isnull(context.node.value('@MiddleNames'                    ,'nvarchar(30)' ),@middleNames)
			,@emailAddress                     = isnull(context.node.value('@EmailAddress'                   ,'varchar(150)' ),@emailAddress)
			,@homePhone                        = isnull(context.node.value('@HomePhone'                      ,'varchar(25)'  ),@homePhone)
			,@mobilePhone                      = isnull(context.node.value('@MobilePhone'                    ,'varchar(25)'  ),@mobilePhone)
			,@isTextMessagingEnabled           = isnull(context.node.value('@IsTextMessagingEnabled'         ,'bit'          ),@isTextMessagingEnabled)
			,@genderLabel                      = isnull(context.node.value('@GenderLabel'                    ,'nvarchar(35)' ),@genderLabel)
			,@namePrefixLabel                  = isnull(context.node.value('@NamePrefixLabel'                ,'nvarchar(35)' ),@namePrefixLabel)
			,@birthDate                        = isnull(context.node.value('@BirthDate'                      ,'date'         ),@birthDate)
			,@deathDate                        = isnull(context.node.value('@DeathDate'                      ,'date'         ),@deathDate)
			,@userName                         = isnull(context.node.value('@UserName'                       ,'nvarchar(75)' ),@userName)
			,@subDomain                        = isnull(context.node.value('@SubDomain'                      ,'varchar(63)'  ),@subDomain)
			,@password                         = isnull(context.node.value('@Password'                       ,'nvarchar(50)' ),@password)
			,@streetAddress1                   = isnull(context.node.value('@StreetAddress1'                 ,'nvarchar(75)' ),@streetAddress1)
			,@streetAddress2                   = isnull(context.node.value('@StreetAddress2'                 ,'nvarchar(75)' ),@streetAddress2)
			,@streetAddress3                   = isnull(context.node.value('@StreetAddress3'                 ,'nvarchar(75)' ),@streetAddress3)
			,@cityName                         = isnull(context.node.value('@CityName'                       ,'nvarchar(30)' ),@cityName)
			,@stateProvinceName                = isnull(context.node.value('@StateProvinceName'              ,'nvarchar(30)' ),@stateProvinceName)
			,@postalCode                       = isnull(context.node.value('@PostalCode'                     ,'varchar(10)'  ),@postalCode)
			,@countryName                      = isnull(context.node.value('@CountryName'                    ,'nvarchar(50)' ),@countryName)
			,@regionLabel                      = isnull(context.node.value('@RegionLabel'                    ,'nvarchar(35)' ),@regionLabel)
			,@registrantNo                     = isnull(context.node.value('@RegistrantNo'                   ,'varchar(50)'  ),@registrantNo)
			,@personGroupLabel1                = isnull(context.node.value('@PersonGroupLabel1'              ,'nvarchar(35)' ),@personGroupLabel1)
			,@personGroupTitle1                = isnull(context.node.value('@PersonGroupTitle1'              ,'nvarchar(75)' ),@personGroupTitle1)
			,@personGroupIsAdministrator1      = isnull(context.node.value('@PersonGroupIsAdministrator1'    ,'bit'          ),@personGroupIsAdministrator1)
			,@personGroupEffectiveDate1        = isnull(context.node.value('@PersonGroupEffectiveDate1'      ,'date'         ),@personGroupEffectiveDate1)
			,@personGroupExpiryDate1           = isnull(context.node.value('@PersonGroupExpiryDate1'         ,'date'         ),@personGroupExpiryDate1)
			,@personGroupLabel2                = isnull(context.node.value('@PersonGroupLabel2'              ,'nvarchar(35)' ),@personGroupLabel2)
			,@personGroupTitle2                = isnull(context.node.value('@PersonGroupTitle2'              ,'nvarchar(75)' ),@personGroupTitle2)
			,@personGroupIsAdministrator2      = isnull(context.node.value('@PersonGroupIsAdministrator2'    ,'bit'          ),@personGroupIsAdministrator2)
			,@personGroupEffectiveDate2        = isnull(context.node.value('@PersonGroupEffectiveDate2'      ,'date'         ),@personGroupEffectiveDate2)
			,@personGroupExpiryDate2           = isnull(context.node.value('@PersonGroupExpiryDate2'         ,'date'         ),@personGroupExpiryDate2)
			,@personGroupLabel3                = isnull(context.node.value('@PersonGroupLabel3'              ,'nvarchar(35)' ),@personGroupLabel3)
			,@personGroupTitle3                = isnull(context.node.value('@PersonGroupTitle3'              ,'nvarchar(75)' ),@personGroupTitle3)
			,@personGroupIsAdministrator3      = isnull(context.node.value('@PersonGroupIsAdministrator3'    ,'bit'          ),@personGroupIsAdministrator3)
			,@personGroupEffectiveDate3        = isnull(context.node.value('@PersonGroupEffectiveDate3'      ,'date'         ),@personGroupEffectiveDate3)
			,@personGroupExpiryDate3           = isnull(context.node.value('@PersonGroupExpiryDate3'         ,'date'         ),@personGroupExpiryDate3)
			,@personGroupLabel4                = isnull(context.node.value('@PersonGroupLabel4'              ,'nvarchar(35)' ),@personGroupLabel4)
			,@personGroupTitle4                = isnull(context.node.value('@PersonGroupTitle4'              ,'nvarchar(75)' ),@personGroupTitle4)
			,@personGroupIsAdministrator4      = isnull(context.node.value('@PersonGroupIsAdministrator4'    ,'bit'          ),@personGroupIsAdministrator4)
			,@personGroupEffectiveDate4        = isnull(context.node.value('@PersonGroupEffectiveDate4'      ,'date'         ),@personGroupEffectiveDate4)
			,@personGroupExpiryDate4           = isnull(context.node.value('@PersonGroupExpiryDate4'         ,'date'         ),@personGroupExpiryDate4)
			,@personGroupLabel5                = isnull(context.node.value('@PersonGroupLabel5'              ,'nvarchar(35)' ),@personGroupLabel5)
			,@personGroupTitle5                = isnull(context.node.value('@PersonGroupTitle5'              ,'nvarchar(75)' ),@personGroupTitle5)
			,@personGroupIsAdministrator5      = isnull(context.node.value('@PersonGroupIsAdministrator5'    ,'bit'          ),@personGroupIsAdministrator5)
			,@personGroupEffectiveDate5        = isnull(context.node.value('@PersonGroupEffectiveDate5'      ,'date'         ),@personGroupEffectiveDate5)
			,@personGroupExpiryDate5           = isnull(context.node.value('@PersonGroupExpiryDate5'         ,'date'         ),@personGroupExpiryDate5)
			,@practiceRegisterLabel            = isnull(context.node.value('@PracticeRegisterLabel'          ,'nvarchar(35)' ),@practiceRegisterLabel)
			,@practiceRegisterSectionLabel     = isnull(context.node.value('@PracticeRegisterSectionLabel'   ,'nvarchar(35)' ),@practiceRegisterSectionLabel)
			,@registrationEffectiveDate        = isnull(context.node.value('@RegistrationEffectiveDate'      ,'date'         ),@registrationEffectiveDate)
			,@qualifyingCredentialLabel        = isnull(context.node.value('@QualifyingCredentialLabel'      ,'nvarchar(35)' ),@qualifyingCredentialLabel)
			,@qualifyingCredentialOrgLabel     = isnull(context.node.value('@QualifyingCredentialOrgLabel'   ,'nvarchar(35)' ),@qualifyingCredentialOrgLabel)
			,@qualifyingProgramName            = isnull(context.node.value('@QualifyingProgramName'          ,'nvarchar(65)' ),@qualifyingProgramName)
			,@qualifyingProgramStartDate       = isnull(context.node.value('@QualifyingProgramStartDate'     ,'date'         ),@qualifyingProgramStartDate)
			,@qualifyingProgramCompletionDate  = isnull(context.node.value('@QualifyingProgramCompletionDate','date'         ),@qualifyingProgramCompletionDate)
			,@qualifyingFieldOfStudyName       = isnull(context.node.value('@QualifyingFieldOfStudyName'     ,'nvarchar(50)' ),@qualifyingFieldOfStudyName)
			,@credentialLabel1                 = isnull(context.node.value('@CredentialLabel1'               ,'nvarchar(35)' ),@credentialLabel1)
			,@credentialOrgLabel1              = isnull(context.node.value('@CredentialOrgLabel1'            ,'nvarchar(35)' ),@credentialOrgLabel1)
			,@credentialProgramName1           = isnull(context.node.value('@CredentialProgramName1'         ,'nvarchar(65)' ),@credentialProgramName1)
			,@credentialFieldOfStudyName1      = isnull(context.node.value('@CredentialFieldOfStudyName1'    ,'nvarchar(50)' ),@credentialFieldOfStudyName1)
			,@credentialEffectiveDate1         = isnull(context.node.value('@CredentialEffectiveDate1'       ,'date'         ),@credentialEffectiveDate1)
			,@credentialExpiryDate1            = isnull(context.node.value('@CredentialExpiryDate1'          ,'date'         ),@credentialExpiryDate1)
			,@credentialLabel2                 = isnull(context.node.value('@CredentialLabel2'               ,'nvarchar(35)' ),@credentialLabel2)
			,@credentialOrgLabel2              = isnull(context.node.value('@CredentialOrgLabel2'            ,'nvarchar(35)' ),@credentialOrgLabel2)
			,@credentialProgramName2           = isnull(context.node.value('@CredentialProgramName2'         ,'nvarchar(65)' ),@credentialProgramName2)
			,@credentialFieldOfStudyName2      = isnull(context.node.value('@CredentialFieldOfStudyName2'    ,'nvarchar(50)' ),@credentialFieldOfStudyName2)
			,@credentialEffectiveDate2         = isnull(context.node.value('@CredentialEffectiveDate2'       ,'date'         ),@credentialEffectiveDate2)
			,@credentialExpiryDate2            = isnull(context.node.value('@CredentialExpiryDate2'          ,'date'         ),@credentialExpiryDate2)
			,@credentialLabel3                 = isnull(context.node.value('@CredentialLabel3'               ,'nvarchar(35)' ),@credentialLabel3)
			,@credentialOrgLabel3              = isnull(context.node.value('@CredentialOrgLabel3'            ,'nvarchar(35)' ),@credentialOrgLabel3)
			,@credentialProgramName3           = isnull(context.node.value('@CredentialProgramName3'         ,'nvarchar(65)' ),@credentialProgramName3)
			,@credentialFieldOfStudyName3      = isnull(context.node.value('@CredentialFieldOfStudyName3'    ,'nvarchar(50)' ),@credentialFieldOfStudyName3)
			,@credentialEffectiveDate3         = isnull(context.node.value('@CredentialEffectiveDate3'       ,'date'         ),@credentialEffectiveDate3)
			,@credentialExpiryDate3            = isnull(context.node.value('@CredentialExpiryDate3'          ,'date'         ),@credentialExpiryDate3)
			,@credentialLabel4                 = isnull(context.node.value('@CredentialLabel4'               ,'nvarchar(35)' ),@credentialLabel4)
			,@credentialOrgLabel4              = isnull(context.node.value('@CredentialOrgLabel4'            ,'nvarchar(35)' ),@credentialOrgLabel4)
			,@credentialProgramName4           = isnull(context.node.value('@CredentialProgramName4'         ,'nvarchar(65)' ),@credentialProgramName4)
			,@credentialFieldOfStudyName4      = isnull(context.node.value('@CredentialFieldOfStudyName4'    ,'nvarchar(50)' ),@credentialFieldOfStudyName4)
			,@credentialEffectiveDate4         = isnull(context.node.value('@CredentialEffectiveDate4'       ,'date'         ),@credentialEffectiveDate4)
			,@credentialExpiryDate4            = isnull(context.node.value('@CredentialExpiryDate4'          ,'date'         ),@credentialExpiryDate4)
			,@credentialLabel5                 = isnull(context.node.value('@CredentialLabel5'               ,'nvarchar(35)' ),@credentialLabel5)
			,@credentialOrgLabel5              = isnull(context.node.value('@CredentialOrgLabel5'            ,'nvarchar(35)' ),@credentialOrgLabel5)
			,@credentialProgramName5           = isnull(context.node.value('@CredentialProgramName5'         ,'nvarchar(65)' ),@credentialProgramName5)
			,@credentialFieldOfStudyName5      = isnull(context.node.value('@CredentialFieldOfStudyName5'    ,'nvarchar(50)' ),@credentialFieldOfStudyName5)
			,@credentialEffectiveDate5         = isnull(context.node.value('@CredentialEffectiveDate5'       ,'date'         ),@credentialEffectiveDate5)
			,@credentialExpiryDate5            = isnull(context.node.value('@CredentialExpiryDate5'          ,'date'         ),@credentialExpiryDate5)
			,@credentialLabel6                 = isnull(context.node.value('@CredentialLabel6'               ,'nvarchar(35)' ),@credentialLabel6)
			,@credentialOrgLabel6              = isnull(context.node.value('@CredentialOrgLabel6'            ,'nvarchar(35)' ),@credentialOrgLabel6)
			,@credentialProgramName6           = isnull(context.node.value('@CredentialProgramName6'         ,'nvarchar(65)' ),@credentialProgramName6)
			,@credentialFieldOfStudyName6      = isnull(context.node.value('@CredentialFieldOfStudyName6'    ,'nvarchar(50)' ),@credentialFieldOfStudyName6)
			,@credentialEffectiveDate6         = isnull(context.node.value('@CredentialEffectiveDate6'       ,'date'         ),@credentialEffectiveDate6)
			,@credentialExpiryDate6            = isnull(context.node.value('@CredentialExpiryDate6'          ,'date'         ),@credentialExpiryDate6)
			,@credentialLabel7                 = isnull(context.node.value('@CredentialLabel7'               ,'nvarchar(35)' ),@credentialLabel7)
			,@credentialOrgLabel7              = isnull(context.node.value('@CredentialOrgLabel7'            ,'nvarchar(35)' ),@credentialOrgLabel7)
			,@credentialProgramName7           = isnull(context.node.value('@CredentialProgramName7'         ,'nvarchar(65)' ),@credentialProgramName7)
			,@credentialFieldOfStudyName7      = isnull(context.node.value('@CredentialFieldOfStudyName7'    ,'nvarchar(50)' ),@credentialFieldOfStudyName7)
			,@credentialEffectiveDate7         = isnull(context.node.value('@CredentialEffectiveDate7'       ,'date'         ),@credentialEffectiveDate7)
			,@credentialExpiryDate7            = isnull(context.node.value('@CredentialExpiryDate7'          ,'date'         ),@credentialExpiryDate7)
			,@credentialLabel8                 = isnull(context.node.value('@CredentialLabel8'               ,'nvarchar(35)' ),@credentialLabel8)
			,@credentialOrgLabel8              = isnull(context.node.value('@CredentialOrgLabel8'            ,'nvarchar(35)' ),@credentialOrgLabel8)
			,@credentialProgramName8           = isnull(context.node.value('@CredentialProgramName8'         ,'nvarchar(65)' ),@credentialProgramName8)
			,@credentialFieldOfStudyName8      = isnull(context.node.value('@CredentialFieldOfStudyName8'    ,'nvarchar(50)' ),@credentialFieldOfStudyName8)
			,@credentialEffectiveDate8         = isnull(context.node.value('@CredentialEffectiveDate8'       ,'date'         ),@credentialEffectiveDate8)
			,@credentialExpiryDate8            = isnull(context.node.value('@CredentialExpiryDate8'          ,'date'         ),@credentialExpiryDate8)
			,@credentialLabel9                 = isnull(context.node.value('@CredentialLabel9'               ,'nvarchar(35)' ),@credentialLabel9)
			,@credentialOrgLabel9              = isnull(context.node.value('@CredentialOrgLabel9'            ,'nvarchar(35)' ),@credentialOrgLabel9)
			,@credentialProgramName9           = isnull(context.node.value('@CredentialProgramName9'         ,'nvarchar(65)' ),@credentialProgramName9)
			,@credentialFieldOfStudyName9      = isnull(context.node.value('@CredentialFieldOfStudyName9'    ,'nvarchar(50)' ),@credentialFieldOfStudyName9)
			,@credentialEffectiveDate9         = isnull(context.node.value('@CredentialEffectiveDate9'       ,'date'         ),@credentialEffectiveDate9)
			,@credentialExpiryDate9            = isnull(context.node.value('@CredentialExpiryDate9'          ,'date'         ),@credentialExpiryDate9)
			,@personSID                        = isnull(context.node.value('@PersonSID'                      ,'int'          ),@personSID)
			,@personEmailAddressSID            = isnull(context.node.value('@PersonEmailAddressSID'          ,'int'          ),@personEmailAddressSID)
			,@applicationUserSID               = isnull(context.node.value('@ApplicationUserSID'             ,'int'          ),@applicationUserSID)
			,@personMailingAddressSID          = isnull(context.node.value('@PersonMailingAddressSID'        ,'int'          ),@personMailingAddressSID)
			,@regionSID                        = isnull(context.node.value('@RegionSID'                      ,'int'          ),@regionSID)
			,@namePrefixSID                    = isnull(context.node.value('@NamePrefixSID'                  ,'int'          ),@namePrefixSID)
			,@genderSID                        = isnull(context.node.value('@GenderSID'                      ,'int'          ),@genderSID)
			,@citySID                          = isnull(context.node.value('@CitySID'                        ,'int'          ),@citySID)
			,@stateProvinceSID                 = isnull(context.node.value('@StateProvinceSID'               ,'int'          ),@stateProvinceSID)
			,@countrySID                       = isnull(context.node.value('@CountrySID'                     ,'int'          ),@countrySID)
			,@registrantSID                    = isnull(context.node.value('@RegistrantSID'                  ,'int'          ),@registrantSID)
			,@processingComments               = isnull(context.node.value('@ProcessingComments'             ,'nvarchar(max)'),@processingComments)
			,@registrantProfileXID             = isnull(context.node.value('@RegistrantProfileXID'           ,'varchar(150)' ),@registrantProfileXID)
			,@legacyKey                        = isnull(context.node.value('@LegacyKey'                      ,'nvarchar(50)' ),@legacyKey)
		from
			@zContext.nodes('Parameters') as context(node)
		
		-- set default value on foreign keys where configured
		-- and where no DB or literal value was passed for it
		
		if isnull(@processingStatusSID,0) = 0 select @processingStatusSID = x.ProcessingStatusSID from sf.ProcessingStatus  x where x.IsDefault = @ON

		--! <Overrides>
		--  insert default value logic here ...
		--! </Overrides>
	
		-- call the extended version of the procedure (if it exists) for "default.pre" mode
		
		if exists
		(
			select
				1
			from
				sf.vRoutine r
			where
				r.SchemaName = 'ext'
			and
				r.RoutineName = 'stg#pRegistrantProfile'
		)
		begin
		
			exec @errorNo = ext.stg#pRegistrantProfile
				 @Mode                            = 'default.pre'
				,@RegistrantProfileSID = @registrantProfileSID
				,@ImportFileSID = @importFileSID output
				,@ProcessingStatusSID = @processingStatusSID output
				,@LastName = @lastName output
				,@FirstName = @firstName output
				,@CommonName = @commonName output
				,@MiddleNames = @middleNames output
				,@EmailAddress = @emailAddress output
				,@HomePhone = @homePhone output
				,@MobilePhone = @mobilePhone output
				,@IsTextMessagingEnabled = @isTextMessagingEnabled output
				,@GenderLabel = @genderLabel output
				,@NamePrefixLabel = @namePrefixLabel output
				,@BirthDate = @birthDate output
				,@DeathDate = @deathDate output
				,@UserName = @userName output
				,@SubDomain = @subDomain output
				,@Password = @password output
				,@StreetAddress1 = @streetAddress1 output
				,@StreetAddress2 = @streetAddress2 output
				,@StreetAddress3 = @streetAddress3 output
				,@CityName = @cityName output
				,@StateProvinceName = @stateProvinceName output
				,@PostalCode = @postalCode output
				,@CountryName = @countryName output
				,@RegionLabel = @regionLabel output
				,@RegistrantNo = @registrantNo output
				,@PersonGroupLabel1 = @personGroupLabel1 output
				,@PersonGroupTitle1 = @personGroupTitle1 output
				,@PersonGroupIsAdministrator1 = @personGroupIsAdministrator1 output
				,@PersonGroupEffectiveDate1 = @personGroupEffectiveDate1 output
				,@PersonGroupExpiryDate1 = @personGroupExpiryDate1 output
				,@PersonGroupLabel2 = @personGroupLabel2 output
				,@PersonGroupTitle2 = @personGroupTitle2 output
				,@PersonGroupIsAdministrator2 = @personGroupIsAdministrator2 output
				,@PersonGroupEffectiveDate2 = @personGroupEffectiveDate2 output
				,@PersonGroupExpiryDate2 = @personGroupExpiryDate2 output
				,@PersonGroupLabel3 = @personGroupLabel3 output
				,@PersonGroupTitle3 = @personGroupTitle3 output
				,@PersonGroupIsAdministrator3 = @personGroupIsAdministrator3 output
				,@PersonGroupEffectiveDate3 = @personGroupEffectiveDate3 output
				,@PersonGroupExpiryDate3 = @personGroupExpiryDate3 output
				,@PersonGroupLabel4 = @personGroupLabel4 output
				,@PersonGroupTitle4 = @personGroupTitle4 output
				,@PersonGroupIsAdministrator4 = @personGroupIsAdministrator4 output
				,@PersonGroupEffectiveDate4 = @personGroupEffectiveDate4 output
				,@PersonGroupExpiryDate4 = @personGroupExpiryDate4 output
				,@PersonGroupLabel5 = @personGroupLabel5 output
				,@PersonGroupTitle5 = @personGroupTitle5 output
				,@PersonGroupIsAdministrator5 = @personGroupIsAdministrator5 output
				,@PersonGroupEffectiveDate5 = @personGroupEffectiveDate5 output
				,@PersonGroupExpiryDate5 = @personGroupExpiryDate5 output
				,@PracticeRegisterLabel = @practiceRegisterLabel output
				,@PracticeRegisterSectionLabel = @practiceRegisterSectionLabel output
				,@RegistrationEffectiveDate = @registrationEffectiveDate output
				,@QualifyingCredentialLabel = @qualifyingCredentialLabel output
				,@QualifyingCredentialOrgLabel = @qualifyingCredentialOrgLabel output
				,@QualifyingProgramName = @qualifyingProgramName output
				,@QualifyingProgramStartDate = @qualifyingProgramStartDate output
				,@QualifyingProgramCompletionDate = @qualifyingProgramCompletionDate output
				,@QualifyingFieldOfStudyName = @qualifyingFieldOfStudyName output
				,@CredentialLabel1 = @credentialLabel1 output
				,@CredentialOrgLabel1 = @credentialOrgLabel1 output
				,@CredentialProgramName1 = @credentialProgramName1 output
				,@CredentialFieldOfStudyName1 = @credentialFieldOfStudyName1 output
				,@CredentialEffectiveDate1 = @credentialEffectiveDate1 output
				,@CredentialExpiryDate1 = @credentialExpiryDate1 output
				,@CredentialLabel2 = @credentialLabel2 output
				,@CredentialOrgLabel2 = @credentialOrgLabel2 output
				,@CredentialProgramName2 = @credentialProgramName2 output
				,@CredentialFieldOfStudyName2 = @credentialFieldOfStudyName2 output
				,@CredentialEffectiveDate2 = @credentialEffectiveDate2 output
				,@CredentialExpiryDate2 = @credentialExpiryDate2 output
				,@CredentialLabel3 = @credentialLabel3 output
				,@CredentialOrgLabel3 = @credentialOrgLabel3 output
				,@CredentialProgramName3 = @credentialProgramName3 output
				,@CredentialFieldOfStudyName3 = @credentialFieldOfStudyName3 output
				,@CredentialEffectiveDate3 = @credentialEffectiveDate3 output
				,@CredentialExpiryDate3 = @credentialExpiryDate3 output
				,@CredentialLabel4 = @credentialLabel4 output
				,@CredentialOrgLabel4 = @credentialOrgLabel4 output
				,@CredentialProgramName4 = @credentialProgramName4 output
				,@CredentialFieldOfStudyName4 = @credentialFieldOfStudyName4 output
				,@CredentialEffectiveDate4 = @credentialEffectiveDate4 output
				,@CredentialExpiryDate4 = @credentialExpiryDate4 output
				,@CredentialLabel5 = @credentialLabel5 output
				,@CredentialOrgLabel5 = @credentialOrgLabel5 output
				,@CredentialProgramName5 = @credentialProgramName5 output
				,@CredentialFieldOfStudyName5 = @credentialFieldOfStudyName5 output
				,@CredentialEffectiveDate5 = @credentialEffectiveDate5 output
				,@CredentialExpiryDate5 = @credentialExpiryDate5 output
				,@CredentialLabel6 = @credentialLabel6 output
				,@CredentialOrgLabel6 = @credentialOrgLabel6 output
				,@CredentialProgramName6 = @credentialProgramName6 output
				,@CredentialFieldOfStudyName6 = @credentialFieldOfStudyName6 output
				,@CredentialEffectiveDate6 = @credentialEffectiveDate6 output
				,@CredentialExpiryDate6 = @credentialExpiryDate6 output
				,@CredentialLabel7 = @credentialLabel7 output
				,@CredentialOrgLabel7 = @credentialOrgLabel7 output
				,@CredentialProgramName7 = @credentialProgramName7 output
				,@CredentialFieldOfStudyName7 = @credentialFieldOfStudyName7 output
				,@CredentialEffectiveDate7 = @credentialEffectiveDate7 output
				,@CredentialExpiryDate7 = @credentialExpiryDate7 output
				,@CredentialLabel8 = @credentialLabel8 output
				,@CredentialOrgLabel8 = @credentialOrgLabel8 output
				,@CredentialProgramName8 = @credentialProgramName8 output
				,@CredentialFieldOfStudyName8 = @credentialFieldOfStudyName8 output
				,@CredentialEffectiveDate8 = @credentialEffectiveDate8 output
				,@CredentialExpiryDate8 = @credentialExpiryDate8 output
				,@CredentialLabel9 = @credentialLabel9 output
				,@CredentialOrgLabel9 = @credentialOrgLabel9 output
				,@CredentialProgramName9 = @credentialProgramName9 output
				,@CredentialFieldOfStudyName9 = @credentialFieldOfStudyName9 output
				,@CredentialEffectiveDate9 = @credentialEffectiveDate9 output
				,@CredentialExpiryDate9 = @credentialExpiryDate9 output
				,@PersonSID = @personSID output
				,@PersonEmailAddressSID = @personEmailAddressSID output
				,@ApplicationUserSID = @applicationUserSID output
				,@PersonMailingAddressSID = @personMailingAddressSID output
				,@RegionSID = @regionSID output
				,@NamePrefixSID = @namePrefixSID output
				,@GenderSID = @genderSID output
				,@CitySID = @citySID output
				,@StateProvinceSID = @stateProvinceSID output
				,@CountrySID = @countrySID output
				,@RegistrantSID = @registrantSID output
				,@ProcessingComments = @processingComments output
				,@UserDefinedColumns = @userDefinedColumns output
				,@RegistrantProfileXID = @registrantProfileXID output
				,@LegacyKey = @legacyKey output
				,@IsDeleted = @isDeleted
				,@CreateUser = @createUser
				,@CreateTime = @createTime
				,@UpdateUser = @updateUser
				,@UpdateTime = @updateTime
				,@RowGUID = @rowGUID
				,@RowStamp = @rowStamp
				,@FileFormatSID = @fileFormatSID
				,@ApplicationEntitySID = @applicationEntitySID
				,@FileName = @fileName
				,@LoadStartTime = @loadStartTime
				,@LoadEndTime = @loadEndTime
				,@IsFailed = @isFailed
				,@MessageText = @messageText
				,@ImportFileRowGUID = @importFileRowGUID
				,@ProcessingStatusSCD = @processingStatusSCD
				,@ProcessingStatusLabel = @processingStatusLabel
				,@IsClosedStatus = @isClosedStatus
				,@ProcessingStatusIsActive = @processingStatusIsActive
				,@ProcessingStatusIsDefault = @processingStatusIsDefault
				,@ProcessingStatusRowGUID = @processingStatusRowGUID
				,@PersonEmailAddressPersonSID = @personEmailAddressPersonSID
				,@PersonEmailAddressEmailAddress = @personEmailAddressEmailAddress
				,@IsPrimary = @isPrimary
				,@PersonEmailAddressIsActive = @personEmailAddressIsActive
				,@PersonEmailAddressRowGUID = @personEmailAddressRowGUID
				,@IsDeleteEnabled = @isDeleteEnabled
				,@IsReselected = @isReselected
				,@IsNullApplied = @isNullApplied
				,@zContext = @zContext output
				,@RegistrantLabel = @registrantLabel
		
		end

		select
			 @registrantProfileSID RegistrantProfileSID
			,@importFileSID ImportFileSID
			,@processingStatusSID ProcessingStatusSID
			,@lastName LastName
			,@firstName FirstName
			,@commonName CommonName
			,@middleNames MiddleNames
			,@emailAddress EmailAddress
			,@homePhone HomePhone
			,@mobilePhone MobilePhone
			,@isTextMessagingEnabled IsTextMessagingEnabled
			,@genderLabel GenderLabel
			,@namePrefixLabel NamePrefixLabel
			,@birthDate BirthDate
			,@deathDate DeathDate
			,@userName UserName
			,@subDomain SubDomain
			,@password Password
			,@streetAddress1 StreetAddress1
			,@streetAddress2 StreetAddress2
			,@streetAddress3 StreetAddress3
			,@cityName CityName
			,@stateProvinceName StateProvinceName
			,@postalCode PostalCode
			,@countryName CountryName
			,@regionLabel RegionLabel
			,@registrantNo RegistrantNo
			,@personGroupLabel1 PersonGroupLabel1
			,@personGroupTitle1 PersonGroupTitle1
			,@personGroupIsAdministrator1 PersonGroupIsAdministrator1
			,@personGroupEffectiveDate1 PersonGroupEffectiveDate1
			,@personGroupExpiryDate1 PersonGroupExpiryDate1
			,@personGroupLabel2 PersonGroupLabel2
			,@personGroupTitle2 PersonGroupTitle2
			,@personGroupIsAdministrator2 PersonGroupIsAdministrator2
			,@personGroupEffectiveDate2 PersonGroupEffectiveDate2
			,@personGroupExpiryDate2 PersonGroupExpiryDate2
			,@personGroupLabel3 PersonGroupLabel3
			,@personGroupTitle3 PersonGroupTitle3
			,@personGroupIsAdministrator3 PersonGroupIsAdministrator3
			,@personGroupEffectiveDate3 PersonGroupEffectiveDate3
			,@personGroupExpiryDate3 PersonGroupExpiryDate3
			,@personGroupLabel4 PersonGroupLabel4
			,@personGroupTitle4 PersonGroupTitle4
			,@personGroupIsAdministrator4 PersonGroupIsAdministrator4
			,@personGroupEffectiveDate4 PersonGroupEffectiveDate4
			,@personGroupExpiryDate4 PersonGroupExpiryDate4
			,@personGroupLabel5 PersonGroupLabel5
			,@personGroupTitle5 PersonGroupTitle5
			,@personGroupIsAdministrator5 PersonGroupIsAdministrator5
			,@personGroupEffectiveDate5 PersonGroupEffectiveDate5
			,@personGroupExpiryDate5 PersonGroupExpiryDate5
			,@practiceRegisterLabel PracticeRegisterLabel
			,@practiceRegisterSectionLabel PracticeRegisterSectionLabel
			,@registrationEffectiveDate RegistrationEffectiveDate
			,@qualifyingCredentialLabel QualifyingCredentialLabel
			,@qualifyingCredentialOrgLabel QualifyingCredentialOrgLabel
			,@qualifyingProgramName QualifyingProgramName
			,@qualifyingProgramStartDate QualifyingProgramStartDate
			,@qualifyingProgramCompletionDate QualifyingProgramCompletionDate
			,@qualifyingFieldOfStudyName QualifyingFieldOfStudyName
			,@credentialLabel1 CredentialLabel1
			,@credentialOrgLabel1 CredentialOrgLabel1
			,@credentialProgramName1 CredentialProgramName1
			,@credentialFieldOfStudyName1 CredentialFieldOfStudyName1
			,@credentialEffectiveDate1 CredentialEffectiveDate1
			,@credentialExpiryDate1 CredentialExpiryDate1
			,@credentialLabel2 CredentialLabel2
			,@credentialOrgLabel2 CredentialOrgLabel2
			,@credentialProgramName2 CredentialProgramName2
			,@credentialFieldOfStudyName2 CredentialFieldOfStudyName2
			,@credentialEffectiveDate2 CredentialEffectiveDate2
			,@credentialExpiryDate2 CredentialExpiryDate2
			,@credentialLabel3 CredentialLabel3
			,@credentialOrgLabel3 CredentialOrgLabel3
			,@credentialProgramName3 CredentialProgramName3
			,@credentialFieldOfStudyName3 CredentialFieldOfStudyName3
			,@credentialEffectiveDate3 CredentialEffectiveDate3
			,@credentialExpiryDate3 CredentialExpiryDate3
			,@credentialLabel4 CredentialLabel4
			,@credentialOrgLabel4 CredentialOrgLabel4
			,@credentialProgramName4 CredentialProgramName4
			,@credentialFieldOfStudyName4 CredentialFieldOfStudyName4
			,@credentialEffectiveDate4 CredentialEffectiveDate4
			,@credentialExpiryDate4 CredentialExpiryDate4
			,@credentialLabel5 CredentialLabel5
			,@credentialOrgLabel5 CredentialOrgLabel5
			,@credentialProgramName5 CredentialProgramName5
			,@credentialFieldOfStudyName5 CredentialFieldOfStudyName5
			,@credentialEffectiveDate5 CredentialEffectiveDate5
			,@credentialExpiryDate5 CredentialExpiryDate5
			,@credentialLabel6 CredentialLabel6
			,@credentialOrgLabel6 CredentialOrgLabel6
			,@credentialProgramName6 CredentialProgramName6
			,@credentialFieldOfStudyName6 CredentialFieldOfStudyName6
			,@credentialEffectiveDate6 CredentialEffectiveDate6
			,@credentialExpiryDate6 CredentialExpiryDate6
			,@credentialLabel7 CredentialLabel7
			,@credentialOrgLabel7 CredentialOrgLabel7
			,@credentialProgramName7 CredentialProgramName7
			,@credentialFieldOfStudyName7 CredentialFieldOfStudyName7
			,@credentialEffectiveDate7 CredentialEffectiveDate7
			,@credentialExpiryDate7 CredentialExpiryDate7
			,@credentialLabel8 CredentialLabel8
			,@credentialOrgLabel8 CredentialOrgLabel8
			,@credentialProgramName8 CredentialProgramName8
			,@credentialFieldOfStudyName8 CredentialFieldOfStudyName8
			,@credentialEffectiveDate8 CredentialEffectiveDate8
			,@credentialExpiryDate8 CredentialExpiryDate8
			,@credentialLabel9 CredentialLabel9
			,@credentialOrgLabel9 CredentialOrgLabel9
			,@credentialProgramName9 CredentialProgramName9
			,@credentialFieldOfStudyName9 CredentialFieldOfStudyName9
			,@credentialEffectiveDate9 CredentialEffectiveDate9
			,@credentialExpiryDate9 CredentialExpiryDate9
			,@personSID PersonSID
			,@personEmailAddressSID PersonEmailAddressSID
			,@applicationUserSID ApplicationUserSID
			,@personMailingAddressSID PersonMailingAddressSID
			,@regionSID RegionSID
			,@namePrefixSID NamePrefixSID
			,@genderSID GenderSID
			,@citySID CitySID
			,@stateProvinceSID StateProvinceSID
			,@countrySID CountrySID
			,@registrantSID RegistrantSID
			,@processingComments ProcessingComments
			,@userDefinedColumns UserDefinedColumns
			,@registrantProfileXID RegistrantProfileXID
			,@legacyKey LegacyKey
			,@isDeleted IsDeleted
			,@createUser CreateUser
			,@createTime CreateTime
			,@updateUser UpdateUser
			,@updateTime UpdateTime
			,@rowGUID RowGUID
			,@rowStamp RowStamp
			,@fileFormatSID FileFormatSID
			,@applicationEntitySID ApplicationEntitySID
			,@fileName FileName
			,@loadStartTime LoadStartTime
			,@loadEndTime LoadEndTime
			,@isFailed IsFailed
			,@messageText MessageText
			,@importFileRowGUID ImportFileRowGUID
			,@processingStatusSCD ProcessingStatusSCD
			,@processingStatusLabel ProcessingStatusLabel
			,@isClosedStatus IsClosedStatus
			,@processingStatusIsActive ProcessingStatusIsActive
			,@processingStatusIsDefault ProcessingStatusIsDefault
			,@processingStatusRowGUID ProcessingStatusRowGUID
			,@personEmailAddressPersonSID PersonEmailAddressPersonSID
			,@personEmailAddressEmailAddress PersonEmailAddressEmailAddress
			,@isPrimary IsPrimary
			,@personEmailAddressIsActive PersonEmailAddressIsActive
			,@personEmailAddressRowGUID PersonEmailAddressRowGUID
			,@isDeleteEnabled IsDeleteEnabled
			,@isReselected IsReselected
			,@isNullApplied IsNullApplied
			,@zContext zContext
			,@registrantLabel RegistrantLabel

	end try

	begin catch
		set @xState = xact_state()
		
		if @tranCount > 0 and @xState = 1
		begin
			rollback transaction @sprocName																			-- committable wrapping trx exists: rollback to savepoint
		end
		else if @xState <> 0																									-- full rollback
		begin
			rollback
		end
		
		exec @errorNo = sf.pErrorRethrow																			-- process message text and re-throw the error
	end catch

	return(@errorNo)

end
GO
